(this.webpackJsonpapi_graph_challenge=this.webpackJsonpapi_graph_challenge||[]).push([[0],{101:function(t,e,n){},102:function(t,e,n){},103:function(t,e,n){},104:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(1),i=n.n(a),s=n(27),o=n.n(s),d=(n(96),n.p,n(97),n(11)),c=i.a.createContext(null);var l=function(t){var e=Object(a.useState)({occupation:{onet:"default",title:"default"},region:{id:"default",title:"default",type:"default"},summary:{earnings:{regional:0,national_avg:0},jobs:{year:0,regional:0,national_avg:0},jobs_growth:{start_year:0,end_year:0,regional:0}},trend_comparison:{end_year:0,nation:[],regional:[],start_year:0,state:[]},employing_industries:{industries:[],jobs:0,year:0}}),n=Object(d.a)(e,2),i=n[0],s=n[1];return Object(r.jsx)(c.Provider,{value:{resultData:i,getResultData:function(){console.log("getting result data"),fetch("https://run.mocky.io/v3/a2cc3707-8691-4188-8413-6183a7bb3d32",{method:"GET",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"})}).then((function(t){return t.json()})).then((function(t){console.log(t),s(t),console.log("got result data")}))}},children:t.children})},p=(n(98),n(99),n(2)),j=n.p+"static/media/circle.73f4c070.svg",u=n.p+"static/media/square.c38d573c.svg",m=n.p+"static/media/triangle.35e80a8b.svg",h=function(t){for(var e=Object(a.useRef)(null),n=t.trendComparison.start_year,i=t.trendComparison.end_year,s=[],o=[],d=[],c=-100,l=100,h=0;h<t.trendComparison.regional.length;h++){var g=(t.trendComparison.regional[h]-t.trendComparison.regional[0])/t.trendComparison.regional[0]*100;g>c&&(c=g),g<l&&(l=g),s.push({x:n+h,y:g})}for(var b=0;b<t.trendComparison.state.length;b++){var x=(t.trendComparison.state[b]-t.trendComparison.state[0])/t.trendComparison.state[0]*100;x>c&&(c=x),x<l&&(l=x),o.push({x:n+b,y:x})}for(var y=0;y<t.trendComparison.nation.length;y++){var O=(t.trendComparison.nation[y]-t.trendComparison.nation[0])/t.trendComparison.nation[0]*100;O>c&&(c=O),O<l&&(l=O),d.push({x:n+y,y:O})}return Object(a.useEffect)((function(){var r=p.f(e.current),a=n,h=i,g=r.append("g"),b=p.e().domain([a,h]).range([0,1100]),x=p.e().domain([l-1,c+1]).range([500,0]),y=p.a(b).ticks(t.trendComparison.end_year-t.trendComparison.start_year+2).tickSize(-480).tickFormat(p.c("d")),O=p.b(x).ticks(c+1-(l-1)).tickSize(0),f=g.append("g").call(y).attr("transform","translate(50, 480)").attr("color","gray");f.select(".domain").attr("stroke","#E04836").attr("stroke-width","6").attr("opacity","0"),f.selectAll(".tick line").attr("opacity",".3"),g.append("text").attr("transform","rotate(-90)").attr("y",10).attr("x",-250).attr("dy","1em").style("text-anchor","middle").text("Percent Change");g.append("g").call(O).attr("transform","translate(50, -20)").attr("color","gray");var v=p.d().x((function(t,e){return b(t.x)})).y((function(t,e){return x(t.y)}));return g.append("path").datum(d).attr("class","line").attr("d",v).attr("fill","none").style("stroke","rgb(142, 212, 233)").style("stroke-width","1").attr("transform","translate(50, -20)"),g.selectAll("marker").data(d).enter().append("svg:image").attr("xlink:href",m).attr("x",(function(t){return b(t.x)})).attr("y",(function(t){return x(t.y)})).attr("transform","translate(46, -26)").attr("width","9").attr("height","9"),g.append("path").datum(o).attr("class","line").attr("d",v).attr("fill","none").style("stroke","rgb(27, 61, 153)").style("stroke-width","1").attr("transform","translate(50, -20)"),g.selectAll("marker").data(o).enter().append("svg:image").attr("xlink:href",u).attr("x",(function(t){return b(t.x)})).attr("y",(function(t){return x(t.y)})).attr("transform","translate(48, -23)").attr("width","7").attr("height","7"),g.append("path").datum(s).attr("class","line").attr("d",v).attr("fill","none").style("stroke","rgb(7, 23, 65)").style("stroke-width","1").attr("transform","translate(50, -20)"),g.selectAll("marker").data(s).enter().append("svg:image").attr("xlink:href",j).attr("x",(function(t){return b(t.x)})).attr("y",(function(t){return x(t.y)})).attr("transform","translate(48, -23)").attr("width","7").attr("height","7"),function(){r.selectAll("*").remove()}}),[t.trendComparison]),Object(r.jsx)("div",{id:"Graph",children:Object(r.jsx)("svg",{className:"d3-component",width:1200,height:500,ref:e})})};n(101);function g(t){function e(t,e,n,a,i,s,o){return Object(r.jsxs)("span",{id:"TableRow",children:[Object(r.jsx)("span",{id:"GraphTableEntryLeft",children:Object(r.jsxs)("span",{id:s,children:[o,Object(r.jsx)("span",{id:"GraphTableTextPadding",children:t})]})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:s,children:e})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:s,children:n})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:s,children:a})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:s,children:i})})]})}return console.log(t.trendComparison),Object(r.jsxs)("div",{id:"GraphTable",children:[e("Area",t.trendComparison.start_year+" Jobs",t.trendComparison.end_year+" Jobs","Change","%Change","Text2Bold",Object(r.jsx)("img",{id:"GraphTableIconPlaceholder",src:m})),e("Region",t.trendComparison.regional[0],t.trendComparison.regional[t.trendComparison.regional.length-1],t.trendComparison.regional[t.trendComparison.regional.length-1]-t.trendComparison.regional[0],(t.trendComparison.regional[t.trendComparison.regional.length-1]-t.trendComparison.regional[0])/t.trendComparison.regional[0]*100,"Text2",Object(r.jsx)("img",{id:"GraphTableIcon",src:j})),e("State",t.trendComparison.state[0],t.trendComparison.state[t.trendComparison.state.length-1],t.trendComparison.state[t.trendComparison.state.length-1]-t.trendComparison.state[0],(t.trendComparison.state[t.trendComparison.state.length-1]-t.trendComparison.state[0])/t.trendComparison.state[0]*100,"Text2",Object(r.jsx)("img",{id:"GraphTableIcon",src:u})),e("Nation",t.trendComparison.nation[0],t.trendComparison.nation[t.trendComparison.nation.length-1],t.trendComparison.nation[t.trendComparison.nation.length-1]-t.trendComparison.nation[0],(t.trendComparison.nation[t.trendComparison.nation.length-1]-t.trendComparison.nation[0])/t.trendComparison.nation[0]*100,"Text2",Object(r.jsx)("img",{id:"GraphTableIcon",src:m}))]})}n(102);function b(t){var e=t.summary.jobs.regional/t.summary.jobs.national_avg*100,n=Object(r.jsxs)("div",{children:[e,"% ",Object(r.jsx)("span",{id:"GreenText",children:"above"})," national average"]});e<0&&(n=Object(r.jsxs)("div",{children:[-e,"% ",Object(r.jsx)("span",{id:"RedText",children:"below"})," national average"]}));var a=Object(r.jsxs)("span",{id:"GreenText",children:["+",t.summary.jobs_growth.regional,"%"]});t.summary.jobs_growth.regional<0&&(a=Object(r.jsxs)("span",{id:"RedText",children:["-",-t.summary.jobs_growth.regional]}));var i=Object(r.jsxs)("div",{children:["Nation ",Object(r.jsxs)("span",{id:"GreenText",children:["+",t.summary.jobs_growth.national_avg,"%"]})]});return t.summary.jobs_growth.national_avg<0&&t.summary.jobs_growth.national_avg,Object(r.jsxs)("div",{id:"Summary",children:[Object(r.jsxs)("span",{id:"SummaryBoxLeft",children:[Object(r.jsx)("div",{id:"Text1",children:t.summary.jobs.regional}),Object(r.jsxs)("div",{id:"Text2Bold",children:["Jobs (",t.summary.jobs.year,")"]}),Object(r.jsx)("div",{id:"Text2",children:n})]}),Object(r.jsxs)("span",{id:"SummaryBoxCenter",children:[Object(r.jsx)("div",{id:"Text1",children:a}),Object(r.jsxs)("div",{id:"Text2Bold",children:["%Change (",t.summary.jobs_growth.start_year,"-",t.summary.jobs_growth.end_year,") "]}),Object(r.jsx)("div",{id:"Text2",children:i})]}),Object(r.jsxs)("span",{id:"SummaryBoxRight",children:[Object(r.jsxs)("div",{id:"Text1",children:["$",t.summary.earnings.regional,"/hr"]}),Object(r.jsx)("div",{id:"Text2Bold",children:"Median Hourly Earnings"}),Object(r.jsxs)("div",{id:"Text2",children:["Nation: $",t.summary.earnings.national_avg,"/hr"]})]})]})}n(103);function x(t){var e=Object(a.useState)([]),n=Object(d.a)(e,2);n[0],n[1];function i(t,e,n,a,i){return Object(r.jsxs)("span",{id:"TableRow",children:[Object(r.jsx)("span",{id:"TableEntryLeft",children:Object(r.jsx)("span",{id:i,children:t})}),Object(r.jsx)("span",{id:"TableEntry",children:Object(r.jsx)("span",{id:i,children:e})}),Object(r.jsx)("span",{id:"TableEntry",children:Object(r.jsx)("span",{id:i,children:n})}),Object(r.jsx)("span",{id:"TableEntry",children:Object(r.jsx)("span",{id:i,children:a})})]})}return console.log(t.trendComparison),Object(r.jsxs)("div",{id:"Table",children:[i("Industry","Occupation Jobs in Industry ("+t.employingIndustries.year+")","Percent of Occupation in Industry ("+t.employingIndustries.year+")","Percent of Total Jobs in Industry ("+t.employingIndustries.year+")","Text2Bold"),function(t){for(var e=0;e<t.industries.length;e++)t.industries[e].jobs;for(var n=[],a=0;a<t.industries.length;a++)n.push(Object(r.jsx)("div",{children:i(t.industries[a].title,t.industries[a].in_occupation_jobs,(t.industries[a].in_occupation_jobs/t.jobs*100).toFixed(1)+"%",(t.industries[a].in_occupation_jobs/t.industries[a].jobs*100).toFixed(1)+"%","Text2")}));return n}(t.employingIndustries)]})}function y(t){var e=Object(a.useContext)(c);return Object(a.useEffect)((function(){e.getResultData()}),[]),Object(r.jsxs)("div",{id:"ResultPageContent",children:[Object(r.jsx)("div",{id:"ResultPageTitle",children:"Occupation Overview"}),Object(r.jsxs)("div",{id:"ResultPageSubTitle",children:[e.resultData.occupation.title," in ",e.resultData.region.title]}),Object(r.jsxs)("div",{id:"ResultPageSectionTitle",children:["Occupation Summary for ",e.resultData.occupation.title]}),Object(r.jsx)(b,{summary:e.resultData.summary}),Object(r.jsx)("div",{id:"ResultPageSectionTitle",children:"Regional Trends"}),Object(r.jsx)(h,{trendComparison:e.resultData.trend_comparison}),Object(r.jsx)(g,{trendComparison:e.resultData.trend_comparison}),Object(r.jsxs)("div",{id:"ResultPageSectionTitle",children:["Industries Employing ",e.resultData.occupation.title]}),Object(r.jsx)(x,{employingIndustries:e.resultData.employing_industries})]})}var O=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(l,{children:Object(r.jsx)(y,{})})})},f=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),i(t),s(t)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),f()},96:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){},99:function(t,e,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.a70fe838.chunk.js.map