(this.webpackJsonpapi_graph_challenge=this.webpackJsonpapi_graph_challenge||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),i=n.n(a),s=n(27),o=n.n(s),d=(n(96),n.p,n(97),n(11)),c=i.a.createContext(null);var l=function(e){var t=Object(a.useState)({occupation:{onet:"default",title:"default"},region:{id:"default",title:"default",type:"default"},summary:{earnings:{regional:0,national_avg:0},jobs:{year:0,regional:0,national_avg:0},jobs_growth:{start_year:0,end_year:0,regional:0}},trend_comparison:{end_year:0,nation:[],regional:[],start_year:0,state:[]},employing_industries:{industries:[],jobs:0,year:0}}),n=Object(d.a)(t,2),i=n[0],s=n[1];return Object(r.jsx)(c.Provider,{value:{resultData:i,getResultData:function(){console.log("getting result data"),fetch("https://run.mocky.io/v3/a2cc3707-8691-4188-8413-6183a7bb3d32",{method:"GET",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"})}).then((function(e){return e.json()})).then((function(e){console.log(e),s(e),console.log("got result data")}))}},children:e.children})},j=(n(98),n(99),n(2)),p=function(e){for(var t=Object(a.useRef)(null),n=e.trendComparison.start_year,i=e.trendComparison.end_year,s=[],o=[],d=[],c=-100,l=100,p=0;p<e.trendComparison.regional.length;p++){var u=(e.trendComparison.regional[p]-e.trendComparison.regional[0])/e.trendComparison.regional[0]*100;u>c&&(c=u),u<l&&(l=u),s.push({x:n+p,y:u})}for(var m=0;m<e.trendComparison.state.length;m++){var b=(e.trendComparison.state[m]-e.trendComparison.state[0])/e.trendComparison.state[0]*100;b>c&&(c=b),b<l&&(l=b),o.push({x:n+m,y:b})}for(var h=0;h<e.trendComparison.nation.length;h++){var g=(e.trendComparison.nation[h]-e.trendComparison.nation[0])/e.trendComparison.nation[0]*100;g>c&&(c=g),g<l&&(l=g),d.push({x:n+h,y:g})}return Object(a.useEffect)((function(){var r=j.f(t.current),a=n,p=i,u=r.append("g"),m=j.e().domain([a-1,p+1]).range([0,1200]),b=j.e().domain([l-10,c+10]).range([500,0]),h=j.a(m).ticks(e.trendComparison.end_year-e.trendComparison.start_year+2).tickSize(-480).tickFormat(j.c("d")),g=j.b(b).ticks(c+5-(l-5)).tickSize(0),x=u.append("g").call(h).attr("transform","translate(50, 480)").attr("color","gray");x.select(".domain").attr("stroke","#E04836").attr("stroke-width","6").attr("opacity","0"),x.selectAll(".tick line").attr("opacity",".3");u.append("g").call(g).attr("transform","translate(50, -20)").attr("color","gray");var y=j.d().x((function(e,t){return m(e.x)})).y((function(e,t){return b(e.y)}));return u.append("path").datum(s).attr("class","line").attr("d",y).attr("fill","none").style("stroke","rgb(7, 23, 65)").style("stroke-width","1").attr("transform","translate(50, -20)"),u.append("path").datum(o).attr("class","line").attr("d",y).attr("fill","none").style("stroke","rgb(27, 61, 153)").style("stroke-width","1").attr("transform","translate(50, -20)"),u.append("path").datum(d).attr("class","line").attr("d",y).attr("fill","none").style("stroke","rgb(142, 212, 233)").style("stroke-width","1").attr("transform","translate(50, -20)"),function(){r.selectAll("*").remove()}}),[e.trendComparison]),Object(r.jsx)("div",{id:"Graph",children:Object(r.jsx)("svg",{className:"d3-component",width:1200,height:500,ref:t})})},u=(n(101),n.p+"static/media/triangle.35e80a8b.svg"),m=n.p+"static/media/circle.73f4c070.svg",b=n.p+"static/media/square.c38d573c.svg";function h(e){function t(e,t,n,a,i,s,o){return Object(r.jsxs)("span",{id:"TableRow",children:[Object(r.jsx)("span",{id:"GraphTableEntryLeft",children:Object(r.jsxs)("span",{id:s,children:[o,Object(r.jsx)("span",{id:"GraphTableTextPadding",children:e})]})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:s,children:t})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:s,children:n})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:s,children:a})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:s,children:i})})]})}return console.log(e.trendComparison),Object(r.jsxs)("div",{id:"GraphTable",children:[t("Area",e.trendComparison.start_year+" Jobs",e.trendComparison.end_year+" Jobs","Change","%Change","Text2Bold",Object(r.jsx)("img",{id:"GraphTableIconPlaceholder",src:u})),t("Region",e.trendComparison.regional[0],e.trendComparison.regional[e.trendComparison.regional.length-1],e.trendComparison.regional[e.trendComparison.regional.length-1]-e.trendComparison.regional[0],(e.trendComparison.regional[e.trendComparison.regional.length-1]-e.trendComparison.regional[0])/e.trendComparison.regional[0]*100,"Text2",Object(r.jsx)("img",{id:"GraphTableIcon",src:m})),t("State",e.trendComparison.state[0],e.trendComparison.state[e.trendComparison.state.length-1],e.trendComparison.state[e.trendComparison.state.length-1]-e.trendComparison.state[0],(e.trendComparison.state[e.trendComparison.state.length-1]-e.trendComparison.state[0])/e.trendComparison.state[0]*100,"Text2",Object(r.jsx)("img",{id:"GraphTableIcon",src:b})),t("Nation",e.trendComparison.nation[0],e.trendComparison.nation[e.trendComparison.nation.length-1],e.trendComparison.nation[e.trendComparison.nation.length-1]-e.trendComparison.nation[0],(e.trendComparison.nation[e.trendComparison.nation.length-1]-e.trendComparison.nation[0])/e.trendComparison.nation[0]*100,"Text2",Object(r.jsx)("img",{id:"GraphTableIcon",src:u}))]})}n(102);function g(e){var t=e.summary.jobs.regional/e.summary.jobs.national_avg*100,n=Object(r.jsxs)("div",{children:[t,"% ",Object(r.jsx)("span",{id:"GreenText",children:"above"})," national average"]});t<0&&(n=Object(r.jsxs)("div",{children:[-t,"% ",Object(r.jsx)("span",{id:"RedText",children:"below"})," national average"]}));var a=Object(r.jsxs)("span",{id:"GreenText",children:["+",e.summary.jobs_growth.regional,"%"]});e.summary.jobs_growth.regional<0&&(a=Object(r.jsxs)("span",{id:"RedText",children:["-",-e.summary.jobs_growth.regional]}));var i=Object(r.jsxs)("div",{children:["Nation ",Object(r.jsxs)("span",{id:"GreenText",children:["+",e.summary.jobs_growth.national_avg,"%"]})]});return e.summary.jobs_growth.national_avg<0&&e.summary.jobs_growth.national_avg,Object(r.jsxs)("div",{id:"Summary",children:[Object(r.jsxs)("span",{id:"SummaryBoxLeft",children:[Object(r.jsx)("div",{id:"Text1",children:e.summary.jobs.regional}),Object(r.jsxs)("div",{id:"Text2Bold",children:["Jobs (",e.summary.jobs.year,")"]}),Object(r.jsx)("div",{id:"Text2",children:n})]}),Object(r.jsxs)("span",{id:"SummaryBoxCenter",children:[Object(r.jsx)("div",{id:"Text1",children:a}),Object(r.jsxs)("div",{id:"Text2Bold",children:["%Change (",e.summary.jobs_growth.start_year,"-",e.summary.jobs_growth.end_year,") "]}),Object(r.jsx)("div",{id:"Text2",children:i})]}),Object(r.jsxs)("span",{id:"SummaryBoxRight",children:[Object(r.jsxs)("div",{id:"Text1",children:["$",e.summary.earnings.regional,"/hr"]}),Object(r.jsx)("div",{id:"Text2Bold",children:"Median Hourly Earnings"}),Object(r.jsxs)("div",{id:"Text2",children:["Nation: $",e.summary.earnings.national_avg,"/hr"]})]})]})}n(103);function x(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2);n[0],n[1];function i(e,t,n,a,i){return Object(r.jsxs)("span",{id:"TableRow",children:[Object(r.jsx)("span",{id:"TableEntryLeft",children:Object(r.jsx)("span",{id:i,children:e})}),Object(r.jsx)("span",{id:"TableEntry",children:Object(r.jsx)("span",{id:i,children:t})}),Object(r.jsx)("span",{id:"TableEntry",children:Object(r.jsx)("span",{id:i,children:n})}),Object(r.jsx)("span",{id:"TableEntry",children:Object(r.jsx)("span",{id:i,children:a})})]})}return console.log(e.trendComparison),Object(r.jsxs)("div",{id:"Table",children:[i("Industry","Occupation Jobs in Industry ("+e.employingIndustries.year+")","Percent of Occupation in Industry ("+e.employingIndustries.year+")","Percent of Total Jobs in Industry ("+e.employingIndustries.year+")","Text2Bold"),function(e){for(var t=0;t<e.industries.length;t++)e.industries[t].jobs;for(var n=[],a=0;a<e.industries.length;a++)n.push(Object(r.jsx)("div",{children:i(e.industries[a].title,e.industries[a].in_occupation_jobs,(e.industries[a].in_occupation_jobs/e.jobs*100).toFixed(1)+"%",(e.industries[a].in_occupation_jobs/e.industries[a].jobs*100).toFixed(1)+"%","Text2")}));return n}(e.employingIndustries)]})}function y(e){var t=Object(a.useContext)(c);return Object(a.useEffect)((function(){t.getResultData()}),[]),Object(r.jsxs)("div",{id:"ResultPageContent",children:[Object(r.jsx)("div",{id:"ResultPageTitle",children:"Occupation Overview"}),Object(r.jsxs)("div",{id:"ResultPageSubTitle",children:[t.resultData.occupation.title," in ",t.resultData.region.title]}),Object(r.jsxs)("div",{id:"ResultPageSectionTitle",children:["Occupation Summary for ",t.resultData.occupation.title]}),Object(r.jsx)(g,{summary:t.resultData.summary}),Object(r.jsx)("div",{id:"ResultPageSectionTitle",children:"Regional Trends"}),Object(r.jsx)(p,{trendComparison:t.resultData.trend_comparison}),Object(r.jsx)(h,{trendComparison:t.resultData.trend_comparison}),Object(r.jsxs)("div",{id:"ResultPageSectionTitle",children:["Industries Employing ",t.resultData.occupation.title]}),Object(r.jsx)(x,{employingIndustries:t.resultData.employing_industries})]})}var O=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(l,{children:Object(r.jsx)(y,{})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),v()},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.5c1ab850.chunk.js.map