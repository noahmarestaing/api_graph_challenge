(this.webpackJsonpapi_graph_challenge=this.webpackJsonpapi_graph_challenge||[]).push([[0],{101:function(t,e,n){},102:function(t,e,n){},103:function(t,e,n){},104:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(1),a=n.n(i),o=n(27),s=n.n(o),d=(n(96),n.p,n(97),n(11)),c=a.a.createContext(null);var l=function(t){var e=Object(i.useState)({occupation:{onet:"default",title:"default"},region:{id:"default",title:"default",type:"default"},summary:{earnings:{regional:0,national_avg:0},jobs:{year:0,regional:0,national_avg:0},jobs_growth:{start_year:0,end_year:0,regional:0}},trend_comparison:{end_year:0,nation:[],regional:[],start_year:0,state:[]},employing_industries:{industries:[],jobs:0,year:0}}),n=Object(d.a)(e,2),a=n[0],o=n[1];return Object(r.jsx)(c.Provider,{value:{resultData:a,getResultData:function(){console.log("getting result data"),fetch("https://run.mocky.io/v3/a2cc3707-8691-4188-8413-6183a7bb3d32",{method:"GET",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"})}).then((function(t){return t.json()})).then((function(t){console.log(t),o(t),console.log("got result data")}))}},children:t.children})},m=(n(98),n(99),n(2)),u=n.p+"static/media/circle.73f4c070.svg",j=n.p+"static/media/square.c38d573c.svg",p=n.p+"static/media/triangle.35e80a8b.svg",g=function(t){for(var e=Object(i.useRef)(null),n=t.trendComparison.start_year,a=t.trendComparison.end_year,o=[],s=[],d=[],c=-100,l=100,g=0;g<t.trendComparison.regional.length;g++){var h=(t.trendComparison.regional[g]-t.trendComparison.regional[0])/t.trendComparison.regional[0]*100;h>c&&(c=h),h<l&&(l=h),o.push({x:n+g,y:h})}for(var b=0;b<t.trendComparison.state.length;b++){var x=(t.trendComparison.state[b]-t.trendComparison.state[0])/t.trendComparison.state[0]*100;x>c&&(c=x),x<l&&(l=x),s.push({x:n+b,y:x})}for(var v=0;v<t.trendComparison.nation.length;v++){var y=(t.trendComparison.nation[v]-t.trendComparison.nation[0])/t.trendComparison.nation[0]*100;y>c&&(c=y),y<l&&(l=y),d.push({x:n+v,y:y})}return Object(i.useEffect)((function(){var r=m.f(e.current),i=n,g=a,h=r.append("g"),b=m.e().domain([i,g]).range([0,1100]),x=m.e().domain([l-1,c+1]).range([500,0]),v=m.a(b).ticks(t.trendComparison.end_year-t.trendComparison.start_year+2).tickSize(-480).tickFormat(m.c("d")),y=m.b(x).ticks(c+1-(l-1)).tickSize(0),O=h.append("g").call(v).attr("transform","translate(50, 480)").attr("color","gray");O.select(".domain").attr("stroke","#E04836").attr("stroke-width","6").attr("opacity","0"),O.selectAll(".tick line").attr("opacity",".3");h.append("g").call(y).attr("transform","translate(50, -20)").attr("color","gray");h.append("text").attr("transform","rotate(-90)").attr("y",10).attr("x",-250).attr("dy","1em").style("text-anchor","middle").text("Percent Change");var f=m.d().x((function(t,e){return b(t.x)})).y((function(t,e){return x(t.y)}));return h.append("path").datum(d).attr("class","line").attr("d",f).attr("fill","none").style("stroke","rgb(142, 212, 233)").style("stroke-width","1").attr("transform","translate(50, -20)"),h.selectAll("marker").data(d).enter().append("svg:image").attr("xlink:href",p).attr("x",(function(t){return b(t.x)})).attr("y",(function(t){return x(t.y)})).attr("transform","translate(46, -26)").attr("width","9").attr("height","9"),h.append("path").datum(s).attr("class","line").attr("d",f).attr("fill","none").style("stroke","rgb(27, 61, 153)").style("stroke-width","1").attr("transform","translate(50, -20)"),h.selectAll("marker").data(s).enter().append("svg:image").attr("xlink:href",j).attr("x",(function(t){return b(t.x)})).attr("y",(function(t){return x(t.y)})).attr("transform","translate(48, -23)").attr("width","7").attr("height","7"),h.append("path").datum(o).attr("class","line").attr("d",f).attr("fill","none").style("stroke","rgb(7, 23, 65)").style("stroke-width","1").attr("transform","translate(50, -20)"),h.selectAll("marker").data(o).enter().append("svg:image").attr("xlink:href",u).attr("x",(function(t){return b(t.x)})).attr("y",(function(t){return x(t.y)})).attr("transform","translate(48, -23)").attr("width","7").attr("height","7"),function(){r.selectAll("*").remove()}}),[t.trendComparison]),Object(r.jsx)("div",{id:"Graph",children:Object(r.jsx)("svg",{className:"d3-component",width:1200,height:500,ref:e})})};n(101);function h(t){function e(t,e,n,i,a,o,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=0),Object(r.jsxs)("span",{id:"TableRow",children:[Object(r.jsx)("span",{id:"GraphTableEntryLeft",children:Object(r.jsxs)("span",{id:o,children:[s,Object(r.jsx)("span",{id:"GraphTableTextPadding",children:t.toLocaleString(void 0,{maximumFractionDigits:2})})]})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:o,children:e.toLocaleString(void 0,{maximumFractionDigits:2})})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:o,children:n.toLocaleString(void 0,{maximumFractionDigits:2})})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:o,children:i.toLocaleString(void 0,{maximumFractionDigits:2})})}),Object(r.jsx)("span",{id:"GraphTableEntry",children:Object(r.jsx)("span",{id:o,children:a.toLocaleString(void 0,{maximumFractionDigits:2})})})]})}return Object(r.jsxs)("div",{id:"GraphTable",children:[e("Area",t.trendComparison.start_year+" Jobs",t.trendComparison.end_year+" Jobs","Change","%Change","Text2Bold",Object(r.jsx)("img",{id:"GraphTableIconPlaceholder",src:p})),e("Region",t.trendComparison.regional[0],t.trendComparison.regional[t.trendComparison.regional.length-1],t.trendComparison.regional[t.trendComparison.regional.length-1]-t.trendComparison.regional[0],(t.trendComparison.regional[t.trendComparison.regional.length-1]-t.trendComparison.regional[0])/t.trendComparison.regional[0]*100,"Text2",Object(r.jsx)("img",{id:"GraphTableIcon",src:u})),e("State",t.trendComparison.state[0],t.trendComparison.state[t.trendComparison.state.length-1],t.trendComparison.state[t.trendComparison.state.length-1]-t.trendComparison.state[0],(t.trendComparison.state[t.trendComparison.state.length-1]-t.trendComparison.state[0])/t.trendComparison.state[0]*100,"Text2",Object(r.jsx)("img",{id:"GraphTableIcon",src:j})),e("Nation",t.trendComparison.nation[0],t.trendComparison.nation[t.trendComparison.nation.length-1],t.trendComparison.nation[t.trendComparison.nation.length-1]-t.trendComparison.nation[0],(t.trendComparison.nation[t.trendComparison.nation.length-1]-t.trendComparison.nation[0])/t.trendComparison.nation[0]*100,"Text2",Object(r.jsx)("img",{id:"GraphTableIcon",src:p}))]})}n(102);function b(t){var e=(t.summary.jobs.regional/t.summary.jobs.national_avg*100).toLocaleString(void 0,{maximumFractionDigits:2}),n=Object(r.jsxs)("div",{children:[e.toLocaleString(void 0,{maximumFractionDigits:2}),"% ",Object(r.jsx)("span",{id:"GreenText",children:"above"})," national average"]});e<0&&(n=Object(r.jsxs)("div",{children:[(-e).toLocaleString(void 0,{maximumFractionDigits:2}),"% ",Object(r.jsx)("span",{id:"RedText",children:"below"})," national average"]}));var i=Object(r.jsxs)("span",{id:"GreenText",children:["+",t.summary.jobs_growth.regional,"%"]});t.summary.jobs_growth.regional<0&&(i=Object(r.jsxs)("span",{id:"RedText",children:["-",-t.summary.jobs_growth.regional]}));var a=Object(r.jsxs)("div",{children:["Nation ",Object(r.jsxs)("span",{id:"GreenText",children:["+",t.summary.jobs_growth.national_avg,"%"]})]});return t.summary.jobs_growth.national_avg<0&&t.summary.jobs_growth.national_avg,Object(r.jsxs)("div",{id:"Summary",children:[Object(r.jsxs)("span",{id:"SummaryBoxLeft",children:[Object(r.jsx)("div",{id:"Text1",children:t.summary.jobs.regional.toLocaleString(void 0,{maximumFractionDigits:2})}),Object(r.jsxs)("div",{id:"Text2Bold",children:["Jobs (",t.summary.jobs.year,")"]}),Object(r.jsx)("div",{id:"Text2",children:n})]}),Object(r.jsxs)("span",{id:"SummaryBoxCenter",children:[Object(r.jsx)("div",{id:"Text1",children:i}),Object(r.jsxs)("div",{id:"Text2Bold",children:["%Change (",t.summary.jobs_growth.start_year,"-",t.summary.jobs_growth.end_year,") "]}),Object(r.jsx)("div",{id:"Text2",children:a})]}),Object(r.jsxs)("span",{id:"SummaryBoxRight",children:[Object(r.jsxs)("div",{id:"Text1",children:["$",t.summary.earnings.regional.toLocaleString(void 0,{maximumFractionDigits:2}),"/hr"]}),Object(r.jsx)("div",{id:"Text2Bold",children:"Median Hourly Earnings"}),Object(r.jsxs)("div",{id:"Text2",children:["Nation: $",t.summary.earnings.national_avg.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2}),"/hr"]})]})]})}n(103);function x(t){function e(t,e,n,i,a,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),Object(r.jsxs)("span",{id:"TableRow",children:[Object(r.jsxs)("span",{id:"TableEntryLeft",children:[Object(r.jsx)("span",{id:"Bar",style:{width:o+"%"}}),Object(r.jsx)("span",{id:a,children:t.toLocaleString(void 0,{maximumFractionDigits:2})})]}),Object(r.jsx)("span",{id:"TableEntry",children:Object(r.jsx)("span",{id:a,children:e.toLocaleString(void 0,{maximumFractionDigits:2})})}),Object(r.jsx)("span",{id:"TableEntry",children:Object(r.jsx)("span",{id:a,children:n.toLocaleString(void 0,{maximumFractionDigits:2})})}),Object(r.jsx)("span",{id:"TableEntry",children:Object(r.jsx)("span",{id:a,children:i.toLocaleString(void 0,{maximumFractionDigits:2})})})]})}function n(t){for(var n=0;n<t.industries.length;n++)t.industries[n].jobs;for(var i=[],a=0;a<t.industries.length;a++)i.push(Object(r.jsx)("div",{children:e(t.industries[a].title,t.industries[a].in_occupation_jobs,(t.industries[a].in_occupation_jobs/t.jobs*100).toFixed(1)+"%",(t.industries[a].in_occupation_jobs/t.industries[a].jobs*100).toFixed(1)+"%","Text2",t.industries[a].in_occupation_jobs/t.jobs*100)}));return i}var a=Object(i.useState)(Object(r.jsx)("div",{})),o=Object(d.a)(a,2),s=o[0],c=o[1];return Object(i.useEffect)((function(){c(Object(r.jsxs)("div",{id:"Table",children:[e("Industry","Occupation Jobs in Industry ("+t.employingIndustries.year+")","Percent of Occupation in Industry ("+t.employingIndustries.year+")","Percent of Total Jobs in Industry ("+t.employingIndustries.year+")","Text2Bold",0),n(t.employingIndustries)]}))}),[t.employingIndustries]),s}function v(t){var e=Object(i.useContext)(c);return Object(i.useEffect)((function(){e.getResultData()}),[]),Object(r.jsxs)("div",{id:"ResultPageContent",children:[Object(r.jsx)("div",{id:"ResultPageTitle",children:"Occupation Overview"}),Object(r.jsxs)("div",{id:"ResultPageSubTitle",children:[e.resultData.occupation.title," in ",e.resultData.region.title]}),Object(r.jsxs)("div",{id:"ResultPageSectionTitle",children:["Occupation Summary for ",e.resultData.occupation.title]}),Object(r.jsx)(b,{summary:e.resultData.summary}),Object(r.jsx)("div",{id:"ResultPageSectionTitle",children:"Regional Trends"}),Object(r.jsx)(g,{trendComparison:e.resultData.trend_comparison}),Object(r.jsx)(h,{trendComparison:e.resultData.trend_comparison}),Object(r.jsxs)("div",{id:"ResultPageSectionTitle",children:["Industries Employing ",e.resultData.occupation.title]}),Object(r.jsx)(x,{employingIndustries:e.resultData.employing_industries})]})}var y=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(l,{children:Object(r.jsx)(v,{})})})},O=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),r(t),i(t),a(t),o(t)}))};s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(y,{})}),document.getElementById("root")),O()},96:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){},99:function(t,e,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.fb362155.chunk.js.map